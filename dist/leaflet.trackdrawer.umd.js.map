{"version":3,"file":"leaflet.trackdrawer.umd.js","sources":["../node_modules/regenerator-runtime/runtime.js","../node_modules/@babel/runtime/regenerator/index.js","../node_modules/@babel/runtime/helpers/asyncToGenerator.js","../src/Colors.js","../src/LayerContainer.js","../src/Edge.js","../src/Track.js","../src/ToolBar.js","../src/TraceModeBar.js","../src/Node.js","../src/LatLngUtils.js","../src/Loader.js","../src/index.js"],"sourcesContent":["/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}\n\nmodule.exports = _asyncToGenerator;","const colorMap = {\n  red: '#D63E2A',\n  orange: '#F59630',\n  green: '#72B026',\n  blue: '#38AADD',\n  purple: '#D252B9',\n  darkred: '#A23336',\n  darkblue: '#0067A3',\n  darkgreen: '#728224',\n  darkpurple: '#5B396B',\n  cadetblue: '#436978',\n  lightred: '#FF8E7F',\n  beige: '#FFCB92',\n  lightgreen: '#BBF970',\n  lightblue: '#8ADAFF',\n  pink: '#FF91EA',\n  white: '#FBFBFB',\n  lightgray: '#A3A3A3',\n  gray: '#575757',\n  black: '#303030',\n};\nconst colors = [\n  'blue',\n  'green',\n  'orange',\n  'purple',\n  'red',\n  'darkblue',\n  'darkpurple',\n  'lightblue',\n  'lightgreen',\n  'beige',\n  'pink',\n  'lightred',\n]; // Colors supported by Leaflet AwesomeMarkers\n\nObject.freeze(colorMap);\nObject.freeze(colors);\n\nmodule.exports = {\n  nameOf(idx) {\n    return colors[idx % colors.length];\n  },\n\n  rgbOf(idx) {\n    return colorMap[this.nameOf(idx)];\n  },\n\n  nameToRgb(name) {\n    return colorMap[name];\n  },\n\n  rgbToName(rgb) {\n    return Object.keys(colorMap).find((key) => colorMap[key] === rgb);\n  },\n};\n","const L = require('leaflet');\n\nmodule.exports = L.Evented.extend({\n  initialize(parent) {\n    this._parent = parent;\n    const f = L.featureGroup()\n      .addTo(parent)\n      .addEventParent(this);\n    this._elements = [f];\n    this.length = 1;\n  },\n\n  get(i) {\n    const idx = i < 0 ? this._elements.length + i : i;\n    return this._elements[idx];\n  },\n\n  /* eslint-disable prefer-rest-params */\n  splice() {\n    const ret = this._elements.splice(...arguments);\n    ret.forEach((x) => x.removeFrom(this._parent).removeEventParent(this));\n\n    if (arguments.length > 2) {\n      const args = Array.prototype.slice.call(arguments, 2);\n      args.forEach((x) => {\n        x.addTo(this._parent).addEventParent(this);\n      });\n    }\n\n    this.length = this._elements.length;\n    return ret;\n  },\n  /* eslint-enable prefer-rest-params */\n\n  forEach(cb) {\n    this._elements.forEach(cb);\n  },\n\n  clean() {\n    this._elements[0].clearLayers();\n    this.splice(1);\n  },\n\n  getLayer(id) {\n    const parentLayer = this._elements.find((x) => x.getLayer(id) !== undefined);\n    return parentLayer !== undefined ? parentLayer.getLayer(id) : undefined;\n  },\n  getLayerId(layer) {\n    const parentLayer = this._elements.find((x) => x.hasLayer(layer));\n    return parentLayer !== undefined ? parentLayer.getLayerId(layer) : undefined;\n  },\n  getLayerIndex(layer) {\n    return this._elements.findIndex((x) => x.hasLayer(layer));\n  },\n});\n","const L = require('leaflet');\n\nconst Edge = L.Polyline.extend({\n  _startMarkerId: undefined,\n  _endMarkerId: undefined,\n  _promoted: false,\n  _demoted: true,\n  _computation: 0,\n\n  options: { metadata: {} },\n\n  initialize(latlngs, options) {\n    L.Polyline.prototype.initialize.call(this, latlngs, options);\n    L.setOptions(this, options);\n    this.options.metadata = JSON.parse(JSON.stringify(this.options.metadata));\n  },\n});\n\nmodule.exports = {\n  Edge,\n  edge(latlngs, options) {\n    return new Edge(latlngs, options);\n  },\n};\n","const L = require('leaflet');\nconst Colors = require('./Colors');\nconst LayerContainer = require('./LayerContainer');\nconst { Edge } = require('./Edge');\n\nfunction encodeLatLngs(latlngs) {\n  const array = [];\n  const size = latlngs.length;\n  for (let i = 0; i < size; i += 1) {\n    array.push(latlngs[i].lat);\n    array.push(latlngs[i].lng);\n  }\n  return array;\n\n  /* polyline with precision of 8 seems broken\n\n    var array = latlngs.map(function(x) {\n      return [x.lat, x.lng];\n    });\n\n    return polyline.encode(array, 8); //\n    */\n}\n\nfunction decodeLatLngs(latlngs) {\n  const array = [];\n  const size = latlngs.length;\n  for (let i = 0; i < size; i += 2) {\n    array.push(L.latLng(latlngs[i], latlngs[i + 1]));\n  }\n  return array;\n\n  /* polyline with precision of 8 seems broken\n\n    var decoded = polyline.decode(latlngs, 8);\n\n    return decoded.map(function(x) {\n      return L.latLng(x[0], x[1]);\n    });\n    */\n}\n\nfunction encodeLatLng(latlng) {\n  return [latlng.lat, latlng.lng];\n}\n\nfunction decodeLatLng(latlng) {\n  return L.latLng(latlng[0], latlng[1]);\n}\n\nconst Track = L.LayerGroup.extend({\n  options: {\n    routingCallback: undefined,\n    router: undefined,\n    debug: false,\n    undoable: true,\n    undoDepth: 30,\n  },\n\n  _getPrevious(node) {\n    const previousEdge = node !== undefined ? this._getEdge(node._routeIdPrevious) : undefined;\n    const previousNode = previousEdge !== undefined ? this._getNode(previousEdge._startMarkerId) : undefined;\n    return { previousEdge, previousNode };\n  },\n\n  _getNext(node) {\n    const nextEdge = node !== undefined ? this._getEdge(node._routeIdNext) : undefined;\n    const nextNode = nextEdge !== undefined ? this._getNode(nextEdge._endMarkerId) : undefined;\n    return { nextEdge, nextNode };\n  },\n\n  _getNodeId(node) {\n    return this._nodesContainers.getLayerId(node);\n  },\n  _getEdgeId(edge) {\n    return this._edgesContainers.getLayerId(edge);\n  },\n  _getNode(id) {\n    return this._nodesContainers.getLayer(id);\n  },\n  _getEdge(id) {\n    return this._edgesContainers.getLayer(id);\n  },\n  _getNodeContainerIndex(node) {\n    return this._nodesContainers.getLayerIndex(node);\n  },\n  _getNodeContainer(node) {\n    return this._nodesContainers.get(this._getNodeContainerIndex(node));\n  },\n  _getEdgeContainerIndex(edge) {\n    return this._edgesContainers.getLayerIndex(edge);\n  },\n  _getEdgeContainer(edge) {\n    return this._edgesContainers.get(this._getEdgeContainerIndex(edge));\n  },\n\n  initialize(options) {\n    this.setOptions(options);\n    L.LayerGroup.prototype.initialize.call(this);\n\n    this._nodesContainers = new LayerContainer(this);\n    this._edgesContainers = new LayerContainer(this);\n    this._firstNodeId = undefined;\n    this._lastNodeId = undefined;\n    this._currentColorIndex = 0;\n    this._fireEvents = true;\n    this._computing = 0;\n\n    this._states = null;\n    this._currentStateIndex = null;\n\n    if (this.options.undoable) {\n      this._states = [];\n      this._states.push(this.getState());\n      this._currentStateIndex = 0;\n    }\n  },\n\n  setOptions(options) {\n    L.setOptions(this, options);\n\n    if (this.options.router !== undefined) {\n      this.options.routingCallback = (previousMarker, marker, done) => {\n        this.options.router.route(\n          [L.Routing.waypoint(previousMarker.getLatLng()), L.Routing.waypoint(marker.getLatLng())],\n          (err, result) => {\n            done(err, result ? result[0].coordinates : null, {});\n          },\n        );\n      };\n    }\n  },\n\n  hasNodes(count = 1) {\n    let counter = 0;\n    this._nodesContainers.forEach((container) => {\n      const group = container.getLayers();\n      counter += group.length;\n    });\n    return counter >= count;\n  },\n\n  getNodes() {\n    const nodes = [];\n\n    this._nodesContainers.forEach((container) => {\n      const group = container.getLayers();\n      if (group.length > 0) nodes.push({ container, markers: group });\n    });\n\n    return nodes;\n  },\n  getNodesContainer() {\n    return this._nodesContainers;\n  },\n\n  getSteps() {\n    const steps = [];\n\n    this._edgesContainers.forEach((container) => {\n      const group = container.getLayers();\n      if (group.length > 0) steps.push({ container, edges: group });\n    });\n\n    return steps;\n  },\n  getStepsContainer() {\n    return this._edgesContainers;\n  },\n\n  getBounds() {\n    const bounds = L.latLngBounds([]);\n\n    this._nodesContainers.forEach((container) => {\n      bounds.extend(container.getBounds());\n    });\n\n    this._edgesContainers.forEach((container) => {\n      bounds.extend(container.getBounds());\n    });\n    return bounds;\n  },\n\n  getLatLngs() {\n    const hasTrackStats = L.TrackStats !== undefined;\n    const latlngs = [];\n\n    let currentNode = this._getNode(this._firstNodeId);\n    this._nodesContainers.forEach(() => {\n      const l = [];\n      do {\n        const { nextEdge, nextNode } = this._getNext(currentNode);\n        if (currentNode === undefined || nextEdge === undefined) {\n          break;\n        }\n\n        nextEdge.getLatLngs().forEach((e) => {\n          l.push(hasTrackStats ? L.TrackStats.cache.getAll(e) : e);\n        });\n\n        currentNode = nextNode;\n      } while (currentNode.options.type !== 'stopover');\n\n      latlngs.push(JSON.parse(JSON.stringify(l)));\n    });\n\n    return latlngs;\n  },\n\n  _stopoversToGeoJSON() {\n    const stopovers = [];\n    const features = [];\n\n    let currentNode = this._getNode(this._firstNodeId);\n\n    if (currentNode !== undefined) {\n      stopovers.push(currentNode);\n    }\n    this._nodesContainers.forEach(() => {\n      do {\n        const { nextEdge, nextNode } = this._getNext(currentNode);\n        if (currentNode === undefined || nextEdge === undefined) {\n          break;\n        }\n\n        currentNode = nextNode;\n      } while (currentNode.options.type !== 'stopover');\n\n      if (currentNode !== undefined) {\n        stopovers.push(currentNode);\n      }\n    });\n\n    const hasTrackStats = L.TrackStats !== undefined;\n    stopovers.forEach((node, idx) => {\n      const e = hasTrackStats ? L.TrackStats.cache.getAll(node.getLatLng()) : node.getLatLng();\n      const properties = JSON.parse(JSON.stringify(node.options.metadata));\n      properties.index = idx;\n\n      features.push({\n        type: 'Feature',\n        properties,\n        geometry: {\n          type: 'Point',\n          coordinates: 'z' in e && e.z !== null ? [e.lng, e.lat, e.z] : [e.lng, e.lat],\n        },\n      });\n    });\n\n    return features;\n  },\n\n  _edgesToFlatGeoJSON() {\n    const hasTrackStats = L.TrackStats !== undefined;\n    const feature = {\n      type: 'Feature',\n      properties: { index: 0 },\n      geometry: {\n        type: 'LineString',\n        coordinates: [],\n      },\n    };\n\n    let currentNode = this._getNode(this._firstNodeId);\n    this._nodesContainers.forEach(() => {\n      do {\n        const { nextEdge, nextNode } = this._getNext(currentNode);\n        if (currentNode === undefined || nextEdge === undefined) {\n          break;\n        }\n\n        nextEdge.getLatLngs().forEach((e) => {\n          const e2 = hasTrackStats ? L.TrackStats.cache.getAll(e) : e;\n          feature.geometry.coordinates.push('z' in e2 && e2.z !== null ? [e2.lng, e2.lat, e2.z] : [e2.lng, e2.lat]);\n        });\n\n        currentNode = nextNode;\n      } while (currentNode.options.type !== 'stopover');\n    });\n\n    return feature;\n  },\n\n  _edgesToGeoJSON() {\n    const hasTrackStats = L.TrackStats !== undefined;\n    const features = [];\n\n    let currentNode = this._getNode(this._firstNodeId);\n    this._nodesContainers.forEach((_c, idx) => {\n      do {\n        const { nextEdge, nextNode } = this._getNext(currentNode);\n        if (currentNode === undefined || nextEdge === undefined) {\n          break;\n        }\n\n        const properties = JSON.parse(JSON.stringify(nextEdge.options.metadata));\n        properties.index = idx;\n\n        const feature = {\n          type: 'Feature',\n          properties,\n          geometry: {\n            type: 'LineString',\n            coordinates: [],\n          },\n        };\n\n        nextEdge.getLatLngs().forEach((e) => {\n          const e2 = hasTrackStats ? L.TrackStats.cache.getAll(e) : e;\n          feature.geometry.coordinates.push('z' in e2 && e2.z !== null ? [e2.lng, e2.lat, e2.z] : [e2.lng, e2.lat]);\n        });\n\n        features.push(feature);\n\n        currentNode = nextNode;\n      } while (currentNode.options.type !== 'stopover');\n    });\n\n    return features;\n  },\n\n  toGeoJSON(exportStopovers = true, exportAsFlat = false) {\n    const geojson = {\n      type: 'FeatureCollection',\n      features: [],\n    };\n\n    if (exportStopovers) {\n      this._stopoversToGeoJSON().forEach((f) => geojson.features.push(f));\n    }\n\n    if (exportAsFlat) {\n      geojson.features.push(this._edgesToFlatGeoJSON());\n    } else {\n      this._edgesToGeoJSON().forEach((f) => geojson.features.push(f));\n    }\n\n    return geojson;\n  },\n\n  getState() {\n    const state = [\n      {\n        version: 2,\n        start: undefined,\n        metadata: undefined,\n      },\n    ];\n    let currentNode = this._getNode(this._firstNodeId);\n\n    if (currentNode !== undefined) {\n      state[0].start = encodeLatLng(currentNode.getLatLng());\n      state[0].metadata = JSON.parse(JSON.stringify(currentNode.options.metadata));\n    }\n\n    this._nodesContainers.forEach(() => {\n      const group = [];\n\n      do {\n        const { nextEdge, nextNode } = this._getNext(currentNode);\n        if (currentNode === undefined || nextEdge === undefined) {\n          break;\n        }\n\n        group.push({\n          end: encodeLatLng(nextNode.getLatLng()),\n          edge: encodeLatLngs(nextEdge.getLatLngs()),\n          metadata: {\n            node: JSON.parse(JSON.stringify(nextNode.options.metadata)),\n            edge: JSON.parse(JSON.stringify(nextEdge.options.metadata)),\n          },\n        });\n\n        currentNode = nextNode;\n      } while (currentNode.options.type !== 'stopover');\n\n      if (group.length > 0) state.push(group);\n    });\n\n    return state;\n  },\n\n  _fireStart(payload = {}) {\n    if (this._fireEvents && this._computing === 0) this.fire('TrackDrawer:start', payload);\n    this._computing += 1;\n  },\n\n  _fireDone(payload = {}) {\n    this._computing -= 1;\n    // TODO: find a way to store states while computing\n    if (this._fireEvents && this._computing === 0) this._pushState();\n    if (this._fireEvents && this._computing === 0) this.fire('TrackDrawer:done', payload);\n  },\n\n  _fireFailed(error) {\n    this._computing -= 1;\n    if (this._fireEvents && this._computing === 0) this.fire('TrackDrawer:failed', { message: error.message });\n  },\n\n  async refreshEdges(routingCallback) {\n    const callback = routingCallback || this.options.routingCallback;\n\n    this._fireStart();\n    const oldValue = this._fireEvents;\n    this._fireEvents = false;\n\n    const promises = [];\n    this._nodesContainers.forEach((container) => {\n      const markers = container.getLayers();\n      markers.forEach((marker) => {\n        promises.push(this.onMoveNode(marker, callback));\n      });\n    });\n\n    await Promise.all(promises);\n\n    this._fireEvents = oldValue;\n    this._fireDone();\n    return this;\n  },\n\n  clean() {\n    this._fireStart();\n    this._edgesContainers.clean();\n    this._nodesContainers.clean();\n\n    this._firstNodeId = undefined;\n    this._lastNodeId = undefined;\n    this._currentColorIndex = 0;\n\n    this._fireDone();\n    return this;\n  },\n\n  _createNode(latlng, metadata = {}) {\n    return L.TrackDrawer.node(latlng, { metadata });\n  },\n\n  async restoreState(state, nodeCallback) {\n    const callback = nodeCallback || this._createNode;\n    this._fireStart();\n\n    const oldValue = this._fireEvents;\n    this._fireEvents = false;\n    this.clean();\n\n    const stopovers = [];\n    const routes = [];\n    const promises = [];\n\n    let version;\n\n    state.forEach((group, i) => {\n      if (i === 0) {\n        // eslint-disable-next-line prefer-destructuring\n        version = group.version;\n        if (group.start) {\n          const marker = callback.call(null, decodeLatLng(group.start), version >= 2 ? group.metadata : {});\n          promises.push(\n            this.addNode(\n              marker,\n              () => {\n                throw new Error('Should not be called');\n              },\n              true,\n            ),\n          );\n        }\n        return;\n      }\n\n      group.forEach((segment, j) => {\n        const marker = callback.call(null, decodeLatLng(segment.end), version >= 2 ? segment.metadata.node : {});\n        if (j === group.length - 1 && i < state.length - 1) {\n          stopovers.push(marker);\n        }\n\n        promises.push(\n          this.addNode(\n            marker,\n            (from, to, done) => {\n              const edge = decodeLatLngs(segment.edge);\n              routes.push({ from, to, edge });\n              done(null, edge, version >= 2 ? segment.metadata.edge : {});\n            },\n            true,\n          ),\n        );\n      });\n    });\n\n    await Promise.all(promises);\n\n    stopovers.forEach((m) => this.promoteNodeToStopover(m));\n\n    this._fireEvents = oldValue;\n    this._fireDone({ routes });\n    return this;\n  },\n\n  _pushState() {\n    if (this.options.undoable && !this._undoing) {\n      if (this._currentStateIndex + 1 !== this._states.length) {\n        this._states.splice(this._currentStateIndex + 1);\n      }\n      this._currentStateIndex += 1;\n      this._states.push(this.getState());\n\n      if (this._states.length - 1 > this.options.undoDepth) {\n        this._states.splice(0, 1);\n        this._currentStateIndex -= 1;\n      }\n    }\n  },\n\n  async undo(nodeCallback) {\n    if (this.isUndoable() && this._computing === 0) {\n      this._currentStateIndex -= 1;\n      this._undoing = true;\n      await this.restoreState(this._states[this._currentStateIndex], nodeCallback);\n      this._undoing = false;\n      return true;\n    }\n    return false;\n  },\n\n  isUndoable() {\n    return this.options.undoable && this._currentStateIndex > 0;\n  },\n\n  isRedoable() {\n    return this.options.undoable && this._currentStateIndex < this._states.length - 1;\n  },\n\n  async redo(nodeCallback) {\n    if (this.isRedoable() && this._computing === 0) {\n      this._currentStateIndex += 1;\n      this._undoing = true;\n      await this.restoreState(this._states[this._currentStateIndex], nodeCallback);\n      this._undoing = false;\n      return true;\n    }\n    return false;\n  },\n\n  addLayer(layer) {\n    if (layer instanceof L.Marker) {\n      this.addNode(layer);\n    } else {\n      L.LayerGroup.prototype.addLayer.call(this, layer);\n    }\n  },\n\n  _createEdge(previousNode, node, metadata = {}) {\n    const edgesContainer = this._edgesContainers.get(this._getNodeContainerIndex(previousNode));\n    const edge = new Edge([previousNode.getLatLng(), node.getLatLng()], {\n      color: Colors.nameToRgb(previousNode.options.colorName),\n      dashArray: '4',\n      metadata,\n    }).addTo(edgesContainer);\n    const id = edgesContainer.getLayerId(edge);\n\n    previousNode._routeIdNext = id;\n    node._routeIdPrevious = id;\n    edge._startMarkerId = this._getNodeId(previousNode);\n    edge._endMarkerId = this._getNodeId(node);\n    edge._computation = 0;\n\n    if (this.options.debug) {\n      edge.on('tooltipopen', () => {\n        const startNodeId = edge._startMarkerId;\n        const endNodeId = edge._endMarkerId;\n\n        edge.setTooltipContent(\n          `id: ${this._getEdgeId(edge)} (on #${this._getEdgeContainerIndex(edge)})<br>`\n          + `previous node: ${startNodeId}`\n          + ` (on #${this._getNodeContainerIndex(this._getNode(startNodeId))})<br>`\n          + `next node: ${endNodeId}`\n          + ` (on #${this._getNodeContainerIndex(this._getNode(endNodeId))})`,\n        );\n      });\n      edge.bindTooltip('<>');\n    }\n\n    return edge;\n  },\n\n  _prepareNode(node, nodesContainer) {\n    if (this.options.debug) {\n      node.on('tooltipopen', () => {\n        const { previousEdge, previousNode } = this._getPrevious(node);\n        const { nextEdge, nextNode } = this._getNext(node);\n\n        node.setTooltipContent(\n          `id: ${this._getNodeId(node)} (on #${this._getNodeContainerIndex(node)})<br>`\n          + `previous edge: ${this._getEdgeId(previousEdge)}`\n          + ` (on #${this._getEdgeContainerIndex(previousEdge)}) to ${this._getNodeId(previousNode)}<br>`\n          + `next edge: ${this._getEdgeId(nextEdge)}`\n          + ` (on #${this._getEdgeContainerIndex(nextEdge)}) to ${this._getNodeId(nextNode)}`,\n        );\n      });\n      node.bindTooltip('<>');\n    }\n\n    if (nodesContainer.getLayers().length > 0) {\n      const previousNode = nodesContainer.getLayers()[0];\n      node.setStyle({ colorName: previousNode.options.colorName });\n    } else {\n      node.setStyle({ colorName: Colors.nameOf(this._currentColorIndex) });\n    }\n\n    if (node.options.draggable) {\n      node.on('dragstart', (e) => this._onDragStartNode(e.target));\n      node.on('drag', (e) => this._onDragNode(e.target));\n      node.on('moveend', (e) => this.onMoveNode(e.target));\n    }\n\n    node.addTo(nodesContainer);\n\n    return this;\n  },\n\n  addNode(node, routingCallback, skipChecks = false) {\n    const callback = routingCallback || this.options.routingCallback;\n\n    if (this._lastNodeId !== undefined && !skipChecks) {\n      const previousNode = this._getNode(this._lastNodeId);\n      if (previousNode.getLatLng().equals(node.getLatLng())) {\n        return new Promise((resolve) => {\n          resolve();\n        });\n      }\n    }\n\n    this._fireStart();\n\n    const nodesContainer = this._nodesContainers.get(-1);\n    this._prepareNode(node, nodesContainer);\n\n    if (this._lastNodeId !== undefined) {\n      const previousNode = this._getNode(this._lastNodeId);\n      this._createEdge(previousNode, node);\n    }\n\n    const lastNodeId = this._lastNodeId;\n    this._lastNodeId = this._getNodeId(node);\n    if (this._firstNodeId === undefined) {\n      this._firstNodeId = this._lastNodeId;\n    }\n\n    const oldValue = this._fireEvents;\n    this._fireEvents = false;\n    if (node.options.type === 'stopover') {\n      this.promoteNodeToStopover(node);\n    }\n    this._fireEvents = oldValue;\n\n    if (lastNodeId === undefined) {\n      return new Promise((resolve) => {\n        resolve();\n      }).then(() => {\n        this._fireDone({});\n      });\n    }\n\n    const { previousEdge, previousNode } = this._getPrevious(node);\n    previousEdge._computation += 1;\n    const currentComputation = previousEdge._computation;\n\n    return new Promise((resolve, reject) => {\n      callback.call(null, previousNode, node, (err, route, metadata = {}) => {\n        if (err !== null) {\n          reject(err);\n          return;\n        }\n\n        if (previousEdge._computation === currentComputation) {\n          // Route can give different precision than initial markers\n          // Use precision given by the route to be consistent\n          previousNode.setLatLng(L.latLng(route[0]));\n          node.setLatLng(L.latLng(route[route.length - 1]));\n          previousEdge.setLatLngs(route);\n          previousEdge.options.metadata = JSON.parse(JSON.stringify(metadata));\n          previousEdge.setStyle({ dashArray: null });\n        }\n\n        resolve({ routes: [{ from: previousNode, to: node, previousEdge }] });\n      });\n    })\n      .then((routes) => {\n        this._fireDone({ routes });\n      })\n      .catch((e) => {\n        this._fireFailed(e);\n      });\n  },\n\n  insertNode(node, route, routingCallback) {\n    const callback = routingCallback || this.options.routingCallback;\n\n    const startMarker = this._getNode(route._startMarkerId);\n    const endMarker = this._getNode(route._endMarkerId);\n\n    route.removeFrom(this._getEdgeContainer(route));\n    this._prepareNode(node, this._getNodeContainer(startMarker));\n\n    const edge1 = this._createEdge(startMarker, node);\n    const edge2 = this._createEdge(node, endMarker);\n\n    this._fireStart();\n\n    edge1._computation += 1;\n    edge2._computation += 1;\n    const currentComputation1 = edge1._computation;\n    const currentComputation2 = edge2._computation;\n\n    const promise1 = new Promise((resolve, reject) => {\n      callback.call(null, startMarker, node, (err, route1, metadata1 = {}) => {\n        if (err !== null) {\n          reject(err);\n          return;\n        }\n\n        if (edge1._computation === currentComputation1) {\n          startMarker.setLatLng(L.latLng(route1[0]));\n          node.setLatLng(L.latLng(route1[route1.length - 1]));\n          edge1.setLatLngs(route1);\n          edge1.options.metadata = JSON.parse(JSON.stringify(metadata1));\n          edge1.setStyle({ dashArray: null });\n        }\n        resolve({ from: startMarker, to: node, edge: edge1 });\n      });\n    });\n\n    const promise2 = new Promise((resolve, reject) => {\n      callback.call(null, node, endMarker, (err, route2, metadata2 = {}) => {\n        if (err !== null) {\n          reject(err);\n          return;\n        }\n\n        if (edge2._computation === currentComputation2) {\n          node.setLatLng(L.latLng(route2[0]));\n          endMarker.setLatLng(L.latLng(route2[route2.length - 1]));\n          edge2.setLatLngs(route2);\n          edge2.options.metadata = JSON.parse(JSON.stringify(metadata2));\n          edge2.setStyle({ dashArray: null });\n        }\n        resolve({ from: node, to: endMarker, edge: edge2 });\n      });\n    });\n\n    return Promise.all([promise1, promise2])\n      .then((routes) => {\n        this._fireDone({ routes });\n      })\n      .catch((e) => {\n        this._fireFailed(e);\n      });\n  },\n\n  _onDragStartNode(marker) {\n    const { previousEdge } = this._getPrevious(marker);\n    const { nextEdge } = this._getNext(marker);\n    if (previousEdge !== undefined) {\n      previousEdge.setStyle({ dashArray: '4' });\n    }\n    if (nextEdge !== undefined) {\n      nextEdge.setStyle({ dashArray: '4' });\n    }\n    return this;\n  },\n\n  _onDragNode(marker) {\n    const { previousEdge, previousNode } = this._getPrevious(marker);\n    const { nextEdge, nextNode } = this._getNext(marker);\n    if (previousEdge !== undefined) {\n      previousEdge.setLatLngs([previousNode.getLatLng(), marker.getLatLng()]);\n    }\n    if (nextEdge !== undefined) {\n      nextEdge.setLatLngs([nextNode.getLatLng(), marker.getLatLng()]);\n    }\n    return this;\n  },\n\n  onMoveNode(marker, routingCallback) {\n    const callback = routingCallback || this.options.routingCallback;\n\n    const promises = [];\n    const { previousEdge, previousNode } = this._getPrevious(marker);\n    const { nextEdge, nextNode } = this._getNext(marker);\n\n    this._fireStart();\n    this._onDragStartNode(marker);\n    this._onDragNode(marker);\n\n    if (previousEdge !== undefined) {\n      previousEdge._computation += 1;\n      const currentComputation = previousEdge._computation;\n\n      promises.push(\n        new Promise((resolve, reject) => {\n          callback.call(null, previousNode, marker, (err, route, metadata = {}) => {\n            if (err !== null) {\n              reject(err);\n              return;\n            }\n\n            if (previousEdge._computation === currentComputation) {\n              marker.setLatLng(L.latLng(route[route.length - 1]));\n              previousEdge.setLatLngs(route);\n              previousEdge.options.metadata = JSON.parse(JSON.stringify(metadata));\n              previousEdge.setStyle({ dashArray: null });\n            }\n\n            resolve({ from: previousNode, to: marker, edge: previousEdge });\n          });\n        }),\n      );\n    }\n\n    if (nextEdge !== undefined) {\n      nextEdge._computation += 1;\n      const currentComputation = nextEdge._computation;\n\n      promises.push(\n        new Promise((resolve, reject) => {\n          callback.call(null, marker, nextNode, (err, route, metadata = {}) => {\n            if (err !== null) {\n              reject(err);\n              return;\n            }\n\n            if (nextEdge._computation === currentComputation) {\n              marker.setLatLng(L.latLng(route[0]));\n              nextEdge.setLatLngs(route);\n              nextEdge.options.metadata = JSON.parse(JSON.stringify(metadata));\n              nextEdge.setStyle({ dashArray: null });\n            }\n\n            resolve({ from: marker, to: nextNode, edge: nextEdge });\n          });\n        }),\n      );\n    }\n\n    return Promise.all(promises)\n      .then((routes) => {\n        this._fireDone({ routes });\n      })\n      .catch((e) => {\n        this._fireFailed(e);\n      });\n  },\n\n  removeNode(node, routingCallback) {\n    const callback = routingCallback || this.options.routingCallback;\n\n    const promises = [];\n\n    this._fireStart();\n\n    const oldValue = this._fireEvents;\n    this._fireEvents = false;\n    this.demoteNodeToWaypoint(node);\n    this._fireEvents = oldValue;\n\n    const nodeContainer = this._getNodeContainer(node);\n\n    const { previousEdge, previousNode } = this._getPrevious(node);\n    const { nextEdge, nextNode } = this._getNext(node);\n\n    if (previousEdge !== undefined && nextEdge !== undefined) {\n      // Intermediate marker\n      nextNode._routeIdPrevious = node._routeIdPrevious;\n      previousEdge._endMarkerId = nextEdge._endMarkerId;\n\n      nextEdge.removeFrom(this._getEdgeContainer(nextEdge));\n      node.removeFrom(nodeContainer);\n      previousEdge.setLatLngs([previousNode.getLatLng(), nextNode.getLatLng()]).setStyle({ dashArray: '4' });\n\n      previousEdge._computation += 1;\n      const currentComputation = previousEdge._computation;\n\n      promises.push(\n        new Promise((resolve, reject) => {\n          callback.call(null, previousNode, nextNode, (err, route, metadata = {}) => {\n            if (err !== null) {\n              reject(err);\n              return;\n            }\n\n            if (previousEdge._computation === currentComputation) {\n              previousEdge.setLatLngs(route).setStyle({ dashArray: null });\n              previousEdge.options.metadata = JSON.parse(JSON.stringify(metadata));\n            }\n\n            resolve({ from: previousNode, to: nextNode, edge: previousEdge });\n          });\n        }),\n      );\n    } else if (previousEdge !== undefined) {\n      // Last marker of path\n      previousNode._routeIdNext = undefined;\n      this._lastNodeId = previousEdge._startMarkerId;\n      previousEdge.removeFrom(this._getEdgeContainer(previousEdge));\n      node.removeFrom(nodeContainer);\n    } else if (nextEdge !== undefined) {\n      // First marker of path\n      nextNode._routeIdPrevious = undefined;\n      this._firstNodeId = nextEdge._endMarkerId;\n      nextEdge.removeFrom(this._getEdgeContainer(nextEdge));\n      node.removeFrom(nodeContainer);\n    } else {\n      // Lonely marker\n      this._lastNodeId = undefined;\n      this._firstNodeId = undefined;\n      node.removeFrom(nodeContainer);\n    }\n\n    return Promise.all(promises)\n      .then((routes) => {\n        this._fireDone({ routes });\n      })\n      .catch((e) => {\n        this._fireFailed(e);\n      });\n  },\n\n  promoteNodeToStopover(node) {\n    if (node._promoted) {\n      return this;\n    }\n\n    if (this._getNodeId(node) === this._firstNodeId) {\n      node.setType('stopover');\n      node._promoted = true;\n      node._demoted = false;\n      return this;\n    }\n\n    this._fireStart();\n\n    const index = this._getNodeContainerIndex(node);\n\n    const nodes = [];\n    const edges = [];\n\n    let currentNode = node;\n    do {\n      nodes.push(currentNode);\n      const { nextEdge, nextNode } = this._getNext(currentNode);\n      if (nextEdge === undefined) {\n        break;\n      }\n\n      nodes.push(currentNode);\n      edges.push(nextEdge);\n\n      currentNode = nextNode;\n    } while (currentNode.options.type !== 'stopover');\n\n    const newNodesContainer = L.featureGroup();\n    const newEdgesContainer = L.featureGroup();\n\n    this._nodesContainers.splice(index + 1, 0, newNodesContainer);\n    this._edgesContainers.splice(index + 1, 0, newEdgesContainer);\n    this._currentColorIndex += 1;\n\n    nodes.forEach((e) => {\n      e.removeFrom(this._getNodeContainer(e)).addTo(newNodesContainer);\n    });\n    edges.forEach((e) => {\n      e.removeFrom(this._getEdgeContainer(e)).addTo(newEdgesContainer);\n    });\n\n    newNodesContainer.setStyle({ colorName: Colors.nameOf(this._currentColorIndex) });\n    newEdgesContainer.setStyle({ color: Colors.rgbOf(this._currentColorIndex) });\n\n    node.setType('stopover');\n    node._promoted = true;\n    node._demoted = false;\n\n    this._fireDone();\n    return this;\n  },\n\n  demoteNodeToWaypoint(node) {\n    if (node._demoted) {\n      return this;\n    }\n\n    const index = this._getNodeContainerIndex(node);\n    if (index === 0) {\n      return this;\n    }\n\n    this._fireStart();\n\n    const nodes = [];\n    const edges = [];\n\n    let currentNode = node;\n    do {\n      nodes.push(currentNode);\n      const { nextEdge, nextNode } = this._getNext(currentNode);\n      if (nextEdge === undefined) {\n        break;\n      }\n\n      nodes.push(currentNode);\n      edges.push(nextEdge);\n\n      currentNode = nextNode;\n    } while (currentNode.options.type !== 'stopover');\n\n    const previousNodesContainer = this._nodesContainers.get(index - 1);\n    const previousEdgesContainer = this._edgesContainers.get(index - 1);\n\n    this._nodesContainers.splice(index, 1);\n    this._edgesContainers.splice(index, 1);\n\n    nodes.forEach((e) => {\n      e.removeFrom(this._getNodeContainer(e)).addTo(previousNodesContainer);\n    });\n    edges.forEach((e) => {\n      e.removeFrom(this._getEdgeContainer(e)).addTo(previousEdgesContainer);\n    });\n\n    const { previousEdge, previousNode } = this._getPrevious(nodes[0]);\n    if (previousEdge !== undefined) {\n      previousNodesContainer.setStyle({ colorName: previousNode.options.colorName });\n      previousEdgesContainer.setStyle({ color: previousEdge.options.color });\n    }\n\n    node.setType('waypoint');\n    node._promoted = false;\n    node._demoted = true;\n\n    this._fireDone();\n    return this;\n  },\n});\n\nmodule.exports = {\n  Track,\n  track(options) {\n    return new Track(options);\n  },\n};\n","const L = require('leaflet');\n\nif (L.Control.EasyBar === undefined) {\n  module.exports = {\n    ToolBar: undefined,\n    toolBar: undefined,\n  };\n} else {\n  const ToolBar = L.Control.EasyBar.extend({\n    options: {\n      mode: null,\n      labelAddMarker: 'Add marker on click',\n      labelInsertMarker: 'Insert marker when clicking on track',\n      labelCloseLoop: 'Close the loop',\n      labelDeleteMarker: 'Delete marker on click',\n      labelPromoteMarker: 'Promote to stopover on click',\n      labelDemoteMarker: 'Demote to waypoint on click',\n      labelClean: 'Remove everything now',\n      labelUndo: 'Undo',\n      labelRedo: 'Redo',\n    },\n\n    initialize(track, options) {\n      this._track = track;\n\n      L.Util.setOptions(this, options);\n      L.Control.EasyBar.prototype.initialize.call(this, this._initializeButtons(), options);\n      this.setMode(this.options.mode);\n\n      this._track.getStepsContainer().on('click', (e) => {\n        if (this.options.mode === 'insert') {\n          const marker = L.TrackDrawer.node(e.latlng);\n          const route = e.layer;\n\n          route.setStyle({ weight: 3 });\n          this._track.insertNode(marker, route);\n          this._bindMarkerEvents(marker);\n        }\n      });\n\n      this._track.getStepsContainer().on('mouseover', (e) => {\n        if (this.options.mode === 'insert') {\n          e.layer.setStyle({ weight: 5 });\n        }\n      });\n\n      this._track.getStepsContainer().on('mouseout', (e) => {\n        if (this.options.mode === 'insert') {\n          e.layer.setStyle({ weight: 3 });\n        }\n      });\n\n      this._track._toolbar = this;\n      this._track._bindMarkerEvents = (marker) => {\n        this._bindMarkerEvents(marker);\n      };\n    },\n\n    setMode(m) {\n      this.options.mode = m;\n      this._addBtn.state('loaded');\n      this._insertBtn.state('loaded');\n      this._deleteBtn.state('loaded');\n      this._promoteBtn.state('loaded');\n      this._demoteBtn.state('loaded');\n\n      if (this._map) {\n        this._map.getContainer().style.cursor = '';\n      }\n\n      switch (this.options.mode) {\n        case 'add': {\n          this._addBtn.state('active');\n          if (this._map) {\n            this._map.getContainer().style.cursor = 'pointer';\n          }\n          break;\n        }\n        case 'insert': {\n          this._insertBtn.state('active');\n          break;\n        }\n        case 'delete': {\n          this._deleteBtn.state('active');\n          break;\n        }\n        case 'promote': {\n          this._promoteBtn.state('active');\n          break;\n        }\n        case 'demote': {\n          this._demoteBtn.state('active');\n          break;\n        }\n        default:\n        // Do nothing\n      }\n\n      return this;\n    },\n\n    _initializeButtons() {\n      const buttons = [];\n      this._addBtn = L.easyButton({\n        id: 'trackdrawer-add',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-plus',\n            title: this.options.labelAddMarker,\n            onClick: () => {\n              this.setMode('add');\n            },\n          },\n          {\n            stateName: 'active',\n            icon: 'fa-plus',\n            title: this.options.labelAddMarker,\n            onClick: () => {\n              this.setMode(null);\n            },\n          },\n        ],\n      });\n      buttons.push(this._addBtn);\n      this._insertBtn = L.easyButton({\n        id: 'trackdrawer-insert',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-plus-circle',\n            title: this.options.labelInsertMarker,\n            onClick: () => {\n              this.setMode('insert');\n            },\n          },\n          {\n            stateName: 'active',\n            icon: 'fa-plus-circle',\n            title: this.options.labelInsertMarker,\n            onClick: () => {\n              this.setMode(null);\n            },\n          },\n        ],\n      });\n      buttons.push(this._insertBtn);\n      this._closeLoop = L.easyButton({\n        id: 'trackdrawer-closeloop',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-magic',\n            title: this.options.labelCloseLoop,\n            onClick: () => {\n              if (this._track.hasNodes(2)) {\n                const nodes = this._track.getNodes();\n                const marker = L.TrackDrawer.node(nodes[0].markers[0].getLatLng()).addTo(this._track);\n                this._bindMarkerEvents(marker);\n              }\n            },\n          },\n        ],\n      });\n      buttons.push(this._closeLoop);\n      this._deleteBtn = L.easyButton({\n        id: 'trackdrawer-delete',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-eraser',\n            title: this.options.labelDeleteMarker,\n            onClick: () => {\n              this.setMode('delete');\n            },\n          },\n          {\n            stateName: 'active',\n            icon: 'fa-eraser',\n            title: this.options.labelDeleteMarker,\n            onClick: () => {\n              this.setMode(null);\n            },\n          },\n        ],\n      });\n      buttons.push(this._deleteBtn);\n      this._promoteBtn = L.easyButton({\n        id: 'trackdrawer-promote',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-pause-circle',\n            title: this.options.labelPromoteMarker,\n            onClick: () => {\n              this.setMode('promote');\n            },\n          },\n          {\n            stateName: 'active',\n            icon: 'fa-pause-circle',\n            title: this.options.labelPromoteMarker,\n            onClick: () => {\n              this.setMode(null);\n            },\n          },\n        ],\n      });\n      buttons.push(this._promoteBtn);\n      this._demoteBtn = L.easyButton({\n        id: 'trackdrawer-demote',\n        states: [\n          {\n            stateName: 'loaded',\n            icon: 'fa-map-signs',\n            title: this.options.labelDemoteMarker,\n            onClick: () => {\n              this.setMode('demote');\n            },\n          },\n          {\n            stateName: 'active',\n            icon: 'fa-map-signs',\n            title: this.options.labelDemoteMarker,\n            onClick: () => {\n              this.setMode(null);\n            },\n          },\n        ],\n      });\n      buttons.push(this._demoteBtn);\n      this._cleanBtn = L.easyButton({\n        id: 'trackdrawer-clean',\n        states: [\n          {\n            icon: 'fa-trash',\n            title: this.options.labelClean,\n            onClick: () => {\n              this._track.clean();\n            },\n          },\n        ],\n      });\n      buttons.push(this._cleanBtn);\n\n      if (this._track.options.undoable) {\n        this._undoBtn = L.easyButton({\n          id: 'trackdrawer-undo',\n          states: [\n            {\n              icon: 'fa-undo',\n              title: this.options.labelUndo,\n              onClick: () => {\n                this._track.undo((latlng) => {\n                  const marker = L.TrackDrawer.node(latlng);\n                  this._bindMarkerEvents(marker);\n                  return marker;\n                });\n              },\n            },\n          ],\n        });\n        buttons.push(this._undoBtn);\n        this._redoBtn = L.easyButton({\n          id: 'trackdrawer-redo',\n          states: [\n            {\n              icon: 'fa-repeat',\n              title: this.options.labelRedo,\n              onClick: () => {\n                this._track.redo((latlng) => {\n                  const marker = L.TrackDrawer.node(latlng);\n                  this._bindMarkerEvents(marker);\n                  return marker;\n                });\n              },\n            },\n          ],\n        });\n        buttons.push(this._redoBtn);\n      }\n\n      this._track.on('TrackDrawer:start', () => {\n        if (this._track.options.undoable) {\n          this._undoBtn.disable();\n          this._redoBtn.disable();\n        }\n      });\n\n      this._track.on('TrackDrawer:done', () => {\n        if (this._track.hasNodes(2)) {\n          this._closeLoop.enable();\n        } else {\n          this._closeLoop.disable();\n        }\n\n        if (this._track.hasNodes()) {\n          this._insertBtn.enable();\n          this._deleteBtn.enable();\n          this._promoteBtn.enable();\n          this._demoteBtn.enable();\n          this._cleanBtn.enable();\n        } else {\n          this._insertBtn.disable();\n          this._deleteBtn.disable();\n          this._promoteBtn.disable();\n          this._demoteBtn.disable();\n          this._cleanBtn.disable();\n        }\n\n        if (this._track.options.undoable) {\n          if (this._track.isUndoable()) {\n            this._undoBtn.enable();\n          } else {\n            this._undoBtn.disable();\n          }\n          if (this._track.isRedoable()) {\n            this._redoBtn.enable();\n          } else {\n            this._redoBtn.disable();\n          }\n        }\n      });\n\n      return buttons;\n    },\n\n    _bindMarkerEvents(marker) {\n      marker.on('click', this._onMarkerClickHandler);\n      marker.on('mouseover', this._onMarkerMouseOverHandler);\n      marker.on('mouseout', this._onMarkerMouseOutHandler);\n      return this;\n    },\n\n    onAdd(map) {\n      this._onMapClickHandler = (e) => {\n        if (this.options.mode === 'add') {\n          const marker = L.TrackDrawer.node(e.latlng).addTo(this._track);\n          this._bindMarkerEvents(marker);\n        }\n      };\n\n      this._onMarkerClickHandler = (e) => {\n        const marker = e.target;\n        switch (this.options.mode) {\n          case 'delete': {\n            const { previousEdge } = this._track._getPrevious(marker);\n            const { nextEdge } = this._track._getNext(marker);\n\n            if (previousEdge) previousEdge.setStyle({ weight: 3 });\n            if (nextEdge) nextEdge.setStyle({ weight: 3 });\n\n            this._track.removeNode(marker);\n            break;\n          }\n          case 'promote': {\n            this._track.promoteNodeToStopover(marker);\n            break;\n          }\n          case 'demote': {\n            this._track.demoteNodeToWaypoint(marker);\n            break;\n          }\n          default:\n        }\n      };\n\n      this._onMarkerMouseOverHandler = (e) => {\n        if (this.options.mode === 'delete' || this.options.mode === 'promote' || this.options.mode === 'demote') {\n          const marker = e.target;\n          const { previousEdge } = this._track._getPrevious(marker);\n          const { nextEdge } = this._track._getNext(marker);\n\n          if (previousEdge) previousEdge.setStyle({ weight: 5 });\n          if (nextEdge) nextEdge.setStyle({ weight: 5 });\n        }\n      };\n\n      this._onMarkerMouseOutHandler = (e) => {\n        const marker = e.target;\n        const { previousEdge } = this._track._getPrevious(marker);\n        const { nextEdge } = this._track._getNext(marker);\n\n        if (previousEdge) previousEdge.setStyle({ weight: 3 });\n        if (nextEdge) nextEdge.setStyle({ weight: 3 });\n      };\n\n      L.DomEvent.on(map, 'click', this._onMapClickHandler);\n      return L.Control.EasyBar.prototype.onAdd.call(this, map);\n    },\n\n    onRemove(map) {\n      if (this.options.mode === 'add') map.getContainer().style.cursor = '';\n\n      L.DomEvent.off(map, 'click', this._onMapClickHandler);\n      this._track.getNodes().forEach((nodes) => {\n        nodes.markers.forEach((marker) => {\n          marker.off('click', this._onMarkerClickHandler);\n          marker.off('mouseover', this._onMarkerMouseOverHandler);\n          marker.off('mouseout', this._onMarkerMouseOutHandler);\n        });\n      });\n    },\n  });\n\n  module.exports = {\n    ToolBar,\n    toolBar(track, options) {\n      return new ToolBar(track, options);\n    },\n  };\n}\n","const L = require('leaflet');\n\nif (L.Control.EasyBar === undefined) {\n  module.exports = {\n    TraceModeBar: undefined,\n    traceModeBar: undefined,\n  };\n} else {\n  const TraceModeBar = L.Control.EasyBar.extend({\n    options: {\n      mode: null,\n    },\n\n    initialize(track, modes, options) {\n      this._track = track;\n      this._buttonsMap = {};\n\n      L.Control.EasyBar.prototype.initialize.call(this, this._initializeButtons(modes), options);\n      this.setMode(this.options.mode);\n    },\n\n    setMode(m) {\n      const ids = Object.keys(this._buttonsMap);\n      let newMode = m;\n      if (newMode === null) {\n        const idx = this.options.mode === ids[0] ? 1 : 0;\n        newMode = ids[idx];\n      }\n\n      this.options.mode = newMode;\n      ids.forEach((key) => {\n        this._buttonsMap[key].btn.state('loaded');\n      });\n\n      this._buttonsMap[newMode].btn.state('active');\n      this._track.setOptions({\n        router: this._buttonsMap[newMode].router,\n        routingCallback: this._buttonsMap[newMode].routingCallback,\n      });\n\n      return this;\n    },\n\n    _initializeButtons(modes) {\n      const buttons = [];\n      modes.forEach((m) => {\n        const btn = L.easyButton({\n          id: `trackdrawer-mode-${m.id}`,\n          states: [\n            {\n              stateName: 'loaded',\n              icon: m.icon,\n              title: m.name,\n              onClick: () => {\n                this.setMode(m.id);\n              },\n            },\n            {\n              stateName: 'active',\n              icon: m.icon,\n              title: m.name,\n              onClick: () => {\n                this.setMode(null);\n              },\n            },\n          ],\n        });\n        buttons.push(btn);\n        this._buttonsMap[m.id] = {\n          router: m.router,\n          routingCallback: m.routingCallback,\n          btn,\n        };\n      });\n\n      return buttons;\n    },\n  });\n\n  module.exports = {\n    TraceModeBar,\n    traceModeBar(track, modes, options) {\n      return new TraceModeBar(track, modes, options);\n    },\n  };\n}\n","const L = require('leaflet');\n\nconst Node = L.Marker.extend({\n  _routeIdPrevious: undefined,\n  _routeIdNext: undefined,\n  _promoted: false,\n  _demoted: true,\n\n  options: {\n    type: 'waypoint', // Or 'stopover',\n    colorName: 'blue',\n    opacity: 1,\n    draggable: true,\n    metadata: {},\n  },\n\n  initialize(latlng, options) {\n    L.Marker.prototype.initialize.call(this, latlng, options);\n    L.setOptions(this, options);\n    this.setType(this.options.type);\n    this.options.metadata = JSON.parse(JSON.stringify(this.options.metadata));\n  },\n\n  setType(type) {\n    this.options.type = type;\n\n    if (type === 'stopover') {\n      this.setIcon(\n        L.AwesomeMarkers.icon({\n          icon: 'pause-circle',\n          markerColor: this.options.colorName,\n          prefix: 'fa',\n        }),\n      );\n    } else {\n      this.setIcon(\n        L.AwesomeMarkers.icon({\n          icon: 'map-signs',\n          markerColor: this.options.colorName,\n          prefix: 'fa',\n        }),\n      );\n    }\n    return this;\n  },\n\n  setStyle(style) {\n    L.Util.setOptions(this, style);\n\n    if ('colorName' in style) {\n      // Colors is set only via the icon and there's no setter on L.AwesomeMarkers\n      this.setType(this.options.type);\n    }\n    if ('opacity' in style) {\n      this.setOpacity(this.options.opacity);\n    }\n\n    return this;\n  },\n});\n\nmodule.exports = {\n  Node,\n  node(latlng, options) {\n    return new Node(latlng, options);\n  },\n};\n","const L = require('leaflet');\n\n/**\n * Splits an array of LatLng objects every X meters\n * @param {L.LatLng[]} latlngs Polyline to split\n * @param {int} distance Max. distance of each segment of the polyline (in meters)\n * @returns L.LatLng[][]\n */\nfunction splitLatLngs(latlngs, distance = 100) {\n  if (distance <= 0) throw new Error('`distance` must be positive');\n  if (latlngs.length === 0) return [[]];\n\n  let result = [];\n  if (Array.isArray(latlngs[0])) {\n    for (let j = 0; j < latlngs.length; j += 1) {\n      result = result.concat(splitLatLngs(latlngs[j], distance));\n    }\n\n    return result;\n  }\n\n  let tmp = latlngs.splice(0, 1);\n  while (latlngs.length > 0) {\n    const latlng = L.latLng(latlngs.splice(0, 1)[0]);\n    tmp.push(latlng);\n    if (latlng.distanceTo(tmp[0]) > distance) {\n      result.push(tmp);\n      tmp = [latlng];\n    }\n  }\n  result.push(tmp);\n\n  return result;\n}\n\n/**\n * Splits a L.Polyline object every X meters\n * @param {L.Polyline} polyline Polyline to split\n * @param {int} distance Max. distance of each segment of the polyline (in meters)\n * @returns L.Polyline[]\n */\nfunction splitPolyline(polyline, distance = 100) {\n  return splitLatLngs(polyline.getLatLngs(), distance).map((a) => L.polyline(a));\n}\n\nfunction featureGroupToPolylines(featureGroup) {\n  return featureGroup.getLayers().filter((layer) => layer instanceof L.Polyline);\n}\n\nfunction featureGroupToLatLngs(featureGroup) {\n  return featureGroupToPolylines(featureGroup).map((layer) => [layer.getLatLngs(), layer.feature.properties]);\n}\n\nmodule.exports = {\n  splitPolyline,\n  splitLatLngs,\n  featureGroupToPolylines,\n  featureGroupToLatLngs,\n};\n","/* eslint-disable arrow-parens */\nconst L = require('leaflet');\nconst corslite = require('@mapbox/corslite');\nconst { Track } = require('./Track');\nconst latlngutils = require('./LatLngUtils');\n\nTrack.include({\n  _createFileLoader() {\n    this._fileLoader = L.FileLayer.fileLoader(null, {\n      addToMap: false,\n      fileSizeLimit: this.options.fileSizeLimit || 1024,\n      formats: this.options.fileFormat || ['.geojson', '.json', '.kml', '.gpx'],\n    });\n  },\n\n  createFileLoaderControl(insertWaypoints = false) {\n    this._fileLoaderController = L.Control.fileLayerLoad({\n      addToMap: false,\n      fileSizeLimit: this.options.fileSizeLimit || 1024,\n      formats: this.options.fileFormat || ['.geojson', '.json', '.kml', '.gpx'],\n    }).addTo(this._map);\n\n    this._fileLoaderController.loader.on('data:loaded', (event) => {\n      this._dataLoadedHandler(event.layer, insertWaypoints);\n    });\n\n    return this._fileLoaderController;\n  },\n\n  async _dataLoadedHandler(layer, insertWaypoints = false) {\n    this._fireStart();\n\n    const oldValue = this._fireEvents;\n    this._fireEvents = false;\n    this.clean();\n\n    const latlngs = insertWaypoints\n      ? latlngutils.featureGroupToLatLngs(layer).map(l => [latlngutils.splitLatLngs(l[0]), l[1]])\n      : latlngutils.featureGroupToLatLngs(layer).map(l => [[l[0]], l[1]]);\n\n    let lastMarker;\n    const hasToolbar = this._toolbar !== undefined;\n    /* eslint-disable no-await-in-loop */\n    for (let i = 0; i < latlngs.length; i += 1) {\n      const properties = latlngs[i][1];\n      for (let j = 0; j < latlngs[i][0].length; j += 1) {\n        const l = latlngs[i][0][j];\n        if (l.length > 0) {\n          if (lastMarker === undefined) {\n            lastMarker = L.TrackDrawer.node(l[0]);\n            await this.addNode(lastMarker, undefined, true);\n            if (hasToolbar) this._bindMarkerEvents(lastMarker);\n          }\n\n          lastMarker = L.TrackDrawer.node(l[l.length - 1], {\n            type: j === latlngs[i][0].length - 1 ? 'stopover' : 'waypoint',\n          });\n          await this.addNode(\n            lastMarker,\n            (_n1, _n2, cb) => {\n              cb(null, l, properties);\n            },\n            true,\n          );\n          if (hasToolbar) this._bindMarkerEvents(lastMarker);\n        }\n      }\n    }\n    /* eslint-enable no-await-in-loop */\n\n    this._fireEvents = oldValue;\n    this._fireDone();\n  },\n\n  loadData(data, name, ext, insertWaypoints = false) {\n    return new Promise((resolve, reject) => {\n      this._fileLoader.on('data:loaded', async (event) => {\n        await this._dataLoadedHandler(event.layer, insertWaypoints);\n        this._fileLoader.off();\n        resolve();\n      });\n      this._fileLoader.on('data:error', (error) => {\n        this._fileLoader.off();\n        reject(error.error);\n      });\n\n      this._fileLoader.loadData(data, name, ext);\n    });\n  },\n\n  loadFile(file, insertWaypoints = false) {\n    return new Promise((resolve, reject) => {\n      this._fileLoader.on('data:loaded', async (event) => {\n        await this._dataLoadedHandler(event.layer, insertWaypoints);\n        this._fileLoader.off();\n        resolve();\n      });\n      this._fileLoader.on('data:error', (error) => {\n        this._fileLoader.off();\n        reject(error.error);\n      });\n\n      this._fileLoader.load(file);\n    });\n  },\n\n  loadUrl(url, useProxy = false, insertWaypoints = false) {\n    const filename = url.split('/').pop();\n    const ext = filename.split('.').pop();\n\n    const proxiedUrl = useProxy ? `fetch.php?url=${encodeURI(url)}` : url;\n\n    return new Promise((resolve, reject) => {\n      corslite(\n        proxiedUrl,\n        (err, resp) => {\n          if (!err) {\n            try {\n              this._fileLoader.on('data:loaded', async (event) => {\n                await this._dataLoadedHandler(event.layer, insertWaypoints);\n                this._fileLoader.off();\n                resolve();\n              });\n              this._fileLoader.on('data:error', (error) => {\n                this._fileLoader.off();\n                reject(error.error);\n              });\n              this._fileLoader.loadData(resp.responseText, filename, ext);\n            } catch (ex) {\n              reject(ex);\n            }\n          } else if (err.responseText) {\n            try {\n              // Check if response is JSON\n              const data = JSON.parse(err.responseText);\n              reject(new Error(data.error));\n            } catch (ex) {\n              reject(new Error(err.statusText));\n            }\n          } else if (err.statusText) {\n            reject(new Error(err.statusText));\n          } else {\n            reject(new Error(err));\n          }\n        },\n        false,\n      );\n    });\n  },\n});\n\nTrack.addInitHook('_createFileLoader');\n","const L = require('leaflet');\nconst { Track, track } = require('./Track');\nconst { ToolBar, toolBar } = require('./ToolBar');\nconst { TraceModeBar, traceModeBar } = require('./TraceModeBar');\nconst LayerContainer = require('./LayerContainer');\nconst { Node, node } = require('./Node');\nconst { Edge, edge } = require('./Edge');\nconst colors = require('./Colors');\nrequire('./Loader');\nconst latlngutils = require('./LatLngUtils');\n\n/** @module L.TrackDrawer */\nL.TrackDrawer = {\n  Track,\n  track,\n  ToolBar,\n  toolBar,\n  TraceModeBar,\n  traceModeBar,\n  LayerContainer,\n  Node,\n  node,\n  Edge,\n  edge,\n  colors,\n  latlngutils,\n};\n\nmodule.exports = L.TrackDrawer;\n"],"names":["undefined","require$$0","colorMap","red","orange","green","blue","purple","darkred","darkblue","darkgreen","darkpurple","cadetblue","lightred","beige","lightgreen","lightblue","pink","white","lightgray","gray","black","colors","Object","freeze","nameOf","idx","length","rgbOf","nameToRgb","name","rgbToName","rgb","keys","find","key","L","Evented","extend","initialize","parent","_parent","f","featureGroup","addTo","addEventParent","_elements","get","i","splice","ret","arguments","forEach","x","removeFrom","removeEventParent","args","Array","prototype","slice","call","cb","clean","clearLayers","getLayer","id","parentLayer","getLayerId","layer","hasLayer","getLayerIndex","findIndex","Edge","Polyline","_startMarkerId","_endMarkerId","_promoted","_demoted","_computation","options","metadata","latlngs","setOptions","JSON","parse","stringify","edge","encodeLatLngs","array","size","push","lat","lng","decodeLatLngs","latLng","encodeLatLng","latlng","decodeLatLng","Track","LayerGroup","routingCallback","router","debug","undoable","undoDepth","_getPrevious","node","previousEdge","_getEdge","_routeIdPrevious","previousNode","_getNode","_getNext","nextEdge","_routeIdNext","nextNode","_getNodeId","_nodesContainers","_getEdgeId","_edgesContainers","_getNodeContainerIndex","_getNodeContainer","_getEdgeContainerIndex","_getEdgeContainer","LayerContainer","_firstNodeId","_lastNodeId","_currentColorIndex","_fireEvents","_computing","_states","_currentStateIndex","getState","previousMarker","marker","done","route","Routing","waypoint","getLatLng","err","result","coordinates","hasNodes","count","counter","container","group","getLayers","getNodes","nodes","markers","getNodesContainer","getSteps","steps","edges","getStepsContainer","getBounds","bounds","latLngBounds","getLatLngs","hasTrackStats","TrackStats","currentNode","l","e","cache","getAll","type","_stopoversToGeoJSON","stopovers","features","properties","index","geometry","z","_edgesToFlatGeoJSON","feature","e2","_edgesToGeoJSON","_c","toGeoJSON","exportStopovers","exportAsFlat","geojson","state","version","start","end","_fireStart","payload","fire","_fireDone","_pushState","_fireFailed","error","message","refreshEdges","callback","oldValue","promises","onMoveNode","Promise","all","_createNode","TrackDrawer","restoreState","nodeCallback","routes","addNode","Error","segment","j","from","to","m","promoteNodeToStopover","_undoing","undo","isUndoable","isRedoable","redo","addLayer","Marker","_createEdge","edgesContainer","color","Colors","colorName","dashArray","on","startNodeId","endNodeId","setTooltipContent","bindTooltip","_prepareNode","nodesContainer","setStyle","draggable","_onDragStartNode","target","_onDragNode","skipChecks","equals","resolve","lastNodeId","then","currentComputation","reject","setLatLng","setLatLngs","insertNode","startMarker","endMarker","edge1","edge2","currentComputation1","currentComputation2","promise1","route1","metadata1","promise2","route2","metadata2","removeNode","demoteNodeToWaypoint","nodeContainer","setType","newNodesContainer","newEdgesContainer","previousNodesContainer","previousEdgesContainer","track","Control","EasyBar","module","ToolBar","toolBar","mode","labelAddMarker","labelInsertMarker","labelCloseLoop","labelDeleteMarker","labelPromoteMarker","labelDemoteMarker","labelClean","labelUndo","labelRedo","_track","Util","_initializeButtons","setMode","weight","_bindMarkerEvents","_toolbar","_addBtn","_insertBtn","_deleteBtn","_promoteBtn","_demoteBtn","_map","getContainer","style","cursor","buttons","easyButton","states","stateName","icon","title","onClick","_closeLoop","_cleanBtn","_undoBtn","_redoBtn","disable","enable","_onMarkerClickHandler","_onMarkerMouseOverHandler","_onMarkerMouseOutHandler","onAdd","map","_onMapClickHandler","DomEvent","onRemove","off","TraceModeBar","traceModeBar","modes","_buttonsMap","ids","newMode","btn","Node","opacity","setIcon","AwesomeMarkers","markerColor","prefix","setOpacity","splitLatLngs","distance","isArray","concat","tmp","distanceTo","splitPolyline","polyline","a","featureGroupToPolylines","filter","featureGroupToLatLngs","include","_createFileLoader","_fileLoader","FileLayer","fileLoader","addToMap","fileSizeLimit","formats","fileFormat","createFileLoaderControl","insertWaypoints","_fileLoaderController","fileLayerLoad","loader","event","_dataLoadedHandler","latlngutils","hasToolbar","lastMarker","_n1","_n2","loadData","data","ext","loadFile","file","load","loadUrl","url","useProxy","filename","split","pop","proxiedUrl","encodeURI","corslite","resp","responseText","ex","statusText","addInitHook","require$$1","require$$2","require$$3","require$$4"],"mappings":"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"}